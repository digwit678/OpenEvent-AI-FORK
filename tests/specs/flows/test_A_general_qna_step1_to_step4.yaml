{
  "suite": "flow_A_general_qna",
  "description": "Test flow: Intake with Q&A → Room availability → Room selection → Offer (with smart shortcuts)",
  "initial_clock": "2025-11-11T10:00:00+01:00",
  "steps": [
    {
      "turn": 1,
      "description": "Initial inquiry with vague date and Q&A - shortcuts push directly to Step 3",
      "msg_in": {
        "subject": "Private Dinner Event – Date Options in February",
        "body": "Hello,\nWe'd like to organize a private dinner for our family (around 30 guests) at your venue.\nWe're flexible but are thinking sometime in February, preferably a Saturday evening.\nRequirements:\n– Long dining table setup\n– Three-course dinner menu with wine\n– Background music (live or playlist)\nQuestion: Which vegetarian three-course menus with wine pairing do you offer?\nMany thanks,\nLaura Meier\nlaura.meier@bluewin.ch"
      },
      "expect": {
        "intent": "event_intake_shortcut",
        "user_info": {
          "participants": 30,
          "vague_month": "february",
          "vague_weekday": "saturday",
          "vague_time_of_day": "evening"
        },
        "actions": [
          {"type": "send_reply"},
          {"type": "send_reply"}
        ],
        "trace": {
          "subloops_contains": [
            "general_q_a"
          ]
        },
        "res": {
          "assistant_draft": {
            "headers_subset": [
              "Availability overview"
            ],
            "contains_all": [
              "Room",
              "available"
            ]
          }
        },
        "current_step": 3
      }
    },
    {
      "turn": 2,
      "description": "User selects Room B for the suggested date",
      "msg_in": {
        "body": "Let's confirm Room B for that date and proceed with the offer."
      },
      "simulate_intent": "room_choice",
      "expect": {
        "intent": "room_choice"
      }
    },
    {
      "turn": 3,
      "description": "Build offer for Room B on 07.02.2026",
      "system_call": "build_offer",
      "args": {
        "room_id": "Room B",
        "date": "2026-02-07",
        "pax": 30
      },
      "expect": {
        "status": "Option",
        "res": {
          "assistant_draft": {
            "headers_subset": [
              "Offer"
            ],
            "contains_all": [
              "Room B",
              "07.02.2026",
              "30"
            ]
          }
        }
      }
    }
  ]
}
