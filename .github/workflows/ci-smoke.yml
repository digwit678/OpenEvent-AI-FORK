name: ci-smoke

on:
  push:
    branches:
      - chore/integrate-ui2-and-ui3-2025-11-03
      - feature/*
      - fix/*
      - chore/*

jobs:
  smoke:
    runs-on: ubuntu-latest
    env:
      TZ: Europe/Zurich
      PYTHONHASHSEED: '1337'
      PIP_DISABLE_PIP_VERSION_CHECK: '1'
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-python@v5
        with:
          python-version: '3.11'
      - name: Install dev deps
        run: |
          python -m pip install -U pip wheel setuptools
          if [ -f requirements-dev.txt ]; then python -m pip install -r requirements-dev.txt; else python -m pip install pytest freezegun pytz python-dateutil faker hypothesis; fi
      - name: Run essential v4 tests (fast)
        run: |
          ./scripts/test-smoke.sh
